# name: Using Reusable Workflow
# on:
#   push:
#     branches:
#       - main
# jobs:
#   lint:
#     runs-on: ubuntu-latest
#     steps:
#       - name: Get code
#         uses: actions/checkout@v3
#      - name: Cache dependencies
#         id: cache
#         uses: actions/cache@v3
#         with:
#           path: node_modules
#           key: deps-node-modules-${{ hashFiles('**/package-lock.json') }}
#       - name: Install dependencies
#         if: steps.cache.outputs.cache-hit != 'true'
#         run: npm ci
#       - name: Lint code
#         run: npm run lint
#   test:
#     runs-on: ubuntu-latest
#     steps:
#       - name: Get code
#         uses: actions/checkout@v3

#       - name: Cache dependencies
#         id: cache
#         uses: actions/cache@v3
#         with:
#           path: node_modules
#           key: deps-node-modules-${{ hashFiles('**/package-lock.json') }}
#       - name: Install dependencies
#         if: steps.cache.outputs.cache-hit != 'true'

#         run: npm ci
#       - name: Test code
#         id: run-tests
#         run: npm run test

#       - name: Upload test report
#         if: failure() && steps.run-tests.outcome == 'failure'
#         # //  == success, failure, cancelled, skipped
#         # // functions() -> failure(), success(), always(), cancelled()
#         uses: actions/upload-artifact@v3
#         with:
#           name: test-report
#           path: test.json
#   build:
#     needs: test
#     runs-on: ubuntu-latest
#     steps:
#       - name: Get code
#         uses: actions/checkout@v3
#       - name: Cache dependencies
#         id: cache
#         uses: actions/cache@v3
#         with:
#           path: node_modules
#           key: deps-node-modules-${{ hashFiles('**/package-lock.json') }}
#       - name: Install dependencies
#         # If we are not able to use the cache
#         if: steps.cache.outputs.cache-hit != 'true'
#         run: npm ci
#       - name: Build website
#         id: build-website
#         run: npm run build
#       - name: Upload artifacts
#         uses: actions/upload-artifact@v3
#         with:
#           name: dist-files
#           path: dist
#   deploy:
#     needs: build
#     # Using Another Flow
#     uses: ./.github/workflows/reusable.yaml
#     with:
#       artifact-name: dist-files
#     # secrets:
#     #   some-secret: ${{ secrets.some-secret }}

#   report:
#     needs: [lint, deploy]
#     if: failure()
#     runs-on: ubuntu
#     steps:
#       - name: Output Information
#         run: |
#           echo "Something Went Wrong"
#           echo "${{ toJSON(github) }}" "
